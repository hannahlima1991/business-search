(this["webpackJsonpbusiness-search"]=this["webpackJsonpbusiness-search"]||[]).push([[0],{13:function(e,a,t){e.exports=t.p+"static/media/catGif.dbcca15c.gif"},22:function(e,a,t){e.exports=t.p+"static/media/backArrow.77826e6e.svg"},23:function(e,a,t){e.exports=t(40)},28:function(e,a,t){},29:function(e,a,t){},32:function(e,a,t){},38:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(20),s=t.n(r),l=(t(28),t(29),t(6)),o=t.n(l),i=t(11),u=t(9),m=t(15),d=t.n(m),p=(t(31),t(32),t(13)),v=t.n(p);function f(e,a){var t=new XMLHttpRequest;return new Promise((function(n,c){t.open(e.method,"https://cors-anywhere.herokuapp.com/"+e.url),t.onload=function(e){n(a(e))},/^POST/i.test(e.method)&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.setRequestHeader("Authorization","Bearer ".concat("K0gHrVfelnkUTxxEMFYLNP1rbg0ZsJjsST4-ge5F31B-5KQVvUs496_jVAU1fsvi1qM4GbAFWF26Fk01vLrQWfWNd5HPfmPcC40EAumLZhCBu0ooycf_DjCMvlxNX3Yx")),t.send(e.data)}))}var E=function(e){var a=JSON.parse(e.target.response),t=a.latitude,n=a.longitude;return t&&n?{longitude:n,latitude:t}:null},b=function(e){return JSON.parse(e.target.response).businesses},h=function(e){return JSON.parse(e.target.response)},g=t(7),N=t(12),x=t.n(N);var y=function(){var e=Object(n.useState)(""),a=Object(u.a)(e,2),t=a[0],r=a[1],s=Object(n.useState)([]),l=Object(u.a)(s,2),m=l[0],p=l[1],h=Object(n.useState)(!1),N=Object(u.a)(h,2),y=N[0],w=N[1];Object(n.useEffect)((function(){d.a.init({duration:1e3}),d.a.refresh()}),[]);var j=function(){var e=Object(i.a)(o.a.mark((function e(a){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"UnWxhm2IIMISFP3afI7j",t="https://api.geolake.com/geocode?api_key=".concat("UnWxhm2IIMISFP3afI7j","&country=US&q=").concat(a),n={method:"GET",url:t},e.next=5,f(n,E).then((function(e){return e}));case 5:(c=e.sent)?k(c):(w(!1),alert("Zip Code in invalid!"));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(o.a.mark((function e(a){var t,n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.yelp.com/v3/businesses",t=a.latitude,n=a.longitude,c={method:"GET",url:"https://api.yelp.com/v3/businesses"+"/search?latitude=".concat(t,"&longitude=").concat(n,"&sort_by=distance")},e.next=5,f(c,b).then((function(e){return e}));case 5:r=e.sent,w(!1),p(r);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"wrapper",style:{height:0===m.length?"100vh":"100%"}},c.a.createElement("div",{className:"user-input"},c.a.createElement("input",{className:"text-box",placeholder:"Insert Zip Code",type:"number",value:t,onChange:function(e){r(e.target.value)}}),c.a.createElement("button",{className:"search-button",onClick:function(){w(!0),j(t)}},"Search")),c.a.createElement("div",{className:"container"},y?c.a.createElement("img",{className:"loding-gif",src:v.a}):c.a.createElement("div",{className:"row business-card "},m.map((function(e,a){var t="/business/"+e.id,n=(e.id,e.name),r=e.rating,s=e.distance;return c.a.createElement("div",{className:"col-lg-4 business-card-list",key:a,"data-aos":"fade-up"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body vertical-center text-center w-100"},c.a.createElement(g.b,{to:t},c.a.createElement("h4",{className:"card-title"},c.a.createElement("b",null,n),c.a.createElement("p",{className:"distance-marker"},Math.round(s),"m."))),c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(x.a,{count:5,value:r,size:24,color2:"#ffd700",edit:!1})))))})))))},w=(t(38),t(22)),j=t.n(w);var k=function(e){var a=Object(n.useState)(!0),t=Object(u.a)(a,2),r=t[0],s=t[1],l=Object(n.useState)({name:"",image_url:"",rating:"",price:"",location:{address1:"",city:"",state:"",zip_code:""},display_phone:""}),m=Object(u.a)(l,2),d=m[0],p=m[1];Object(n.useEffect)((function(){E()}),[]);var E=function(){var a=Object(i.a)(o.a.mark((function a(){var t,n,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t="https://api.yelp.com/v3/businesses/".concat(e.match.params.id),n={method:"GET",url:t},a.next=4,f(n,h).then((function(e){return e}));case 4:c=a.sent,s(!1),p(c);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),b=d.name,g=d.image_url,N=d.rating,y=d.price,w=d.location,k=d.display_phone,O=d.id,S=w.address1,I=w.city,_=w.state,C=w.zip_code;return console.log(d),c.a.createElement("div",{className:"image-container"},c.a.createElement("div",{className:"container"},r?c.a.createElement("img",{className:"loding-gif",src:v.a}):c.a.createElement("div",{class:"card mb-3 cardSize"},c.a.createElement("div",{class:"row no-gutters"},c.a.createElement("div",{class:"col-md-6"},c.a.createElement("img",{src:g,class:"card-img business-picture",alt:"Food Plate"})),c.a.createElement("div",{class:"col-md-6"},c.a.createElement("div",{class:"card-body business-details"},c.a.createElement("h5",{class:"card-title business-name"},c.a.createElement("b",null,b)),c.a.createElement("p",{class:"card-text"},c.a.createElement("b",null,"Address:")," ",c.a.createElement("a",{target:"_blank",href:"https://maps.google.com/?q=".concat(S,",").concat(I,",").concat(_,",").concat(C)},S,", ",I,", ",_," ",C)),c.a.createElement("p",{class:"card-text"},c.a.createElement("b",null,"Phone:"),c.a.createElement("a",{href:"tell:".concat(k)},k)),c.a.createElement("p",{class:"card-text"},c.a.createElement("b",null,"Price:")," ",y),c.a.createElement("p",{class:"card-text"},c.a.createElement("b",null,"General Rate:")," ",c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(x.a,{count:5,value:N,size:24,color2:"#ffd700",edit:!1}))),c.a.createElement("p",{class:"card-text"},c.a.createElement("b",null,"Rate this business:"),c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(x.a,{count:5,value:localStorage.getItem(O)?localStorage.getItem(O):0,size:24,color2:"#ffd700",edit:!0,onChange:function(e){return localStorage.setItem(O,e)}})),c.a.createElement("div",{className:"back-arrow"},c.a.createElement("img",{src:j.a,onClick:function(){return e.history.push("/")}})))))))))};t(39);var O=function(){return c.a.createElement("div",{className:"navigation-bar"},c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-dark"},c.a.createElement(g.b,{to:"/"},c.a.createElement("p",{className:"navbar-brand",href:"#"},"Business Finder")),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},c.a.createElement("ul",{className:"navbar-nav"},c.a.createElement(g.b,{to:"/"},c.a.createElement("li",{className:"nav-item active"},c.a.createElement("p",{className:"nav-link",href:"#"},"Home ",c.a.createElement("span",{className:"sr-only"},"(current)"))))))))},S=t(1);var I=function(){return c.a.createElement(g.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(O,null),c.a.createElement(S.c,null,c.a.createElement(S.a,{path:"/",exact:!0,component:y}),c.a.createElement(S.a,{path:"/business/:id",component:k}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.d7f1ab07.chunk.js.map